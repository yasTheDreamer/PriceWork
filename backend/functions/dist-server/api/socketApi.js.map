{"version":3,"sources":["../../../server/api/socketApi.js"],"names":["io","require","on","socket","console","log","admin","auth","deleteUser","app","uuid","then"],"mappings":"uGAAA,0E;;AAEA,IAAMA,EAAE,GAAGC,OAAO,CAAC,WAAD,CAAP,EAAX;;AAEA;AACA;AACA;;AAEAD,EAAE,CAACE,EAAH,CAAM,YAAN,EAAoB,UAACC,MAAD,EAAY;AAC9BC,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAF,EAAAA,MAAM,CAACD,EAAP,CAAU,YAAV,EAAwB,YAAM;AAC5BI;AACGC,IAAAA,IADH;AAEGC,IAAAA,UAFH,CAEcC,GAAG,CAACC,IAFlB;AAGGC,IAAAA,IAHH,CAGQP,OAAO,CAACC,GAAR,gBAAoBI,GAAG,CAACC,IAAxB,cAHR;AAID,GALD;AAMD,CARD,E;;AAUeV,E","sourcesContent":["import admin from \"../db/dbConnection\";\r\n\r\nconst io = require(\"socket.io\")();\r\n\r\n/**\r\n * delete  uuid on disconnection\r\n */\r\n\r\nio.on(\"connection\", (socket) => {\r\n  console.log(\"connected\");\r\n  socket.on(\"disconnect\", () => {\r\n    admin\r\n      .auth()\r\n      .deleteUser(app.uuid)\r\n      .then(console.log(`user ${app.uuid} deleted`));\r\n  });\r\n});\r\n\r\nexport default io;\r\n"],"file":"socketApi.js"}